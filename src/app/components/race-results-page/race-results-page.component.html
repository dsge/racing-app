<ng-container *ngIf="model$ | async as model; else notFound">
  <div class="grid">
    <div class="col-10">
      <h1>
        {{ model.race_name }}
        <p-badge value="Sprint race" severity="danger" *ngIf="model.is_sprint_race"></p-badge>
      </h1>
      <div class="subtitle"> {{ model.race_start_date | date }} - {{ model.race_end_date | date }} </div>
    </div>
    <div class="col-2">
      <p-button (click)="openEditFinalResultsDialog(model)" label="Edit Final Results" severity="primary" [disabled]="!currentUserIsModerator()"></p-button>
    </div>
  </div>

  <div class="grid">
    <div class="col-12">
      <ng-container *ngIf="!hasVotingEnded(model); else votingNotEnded">

        <app-results-page-contents
          [model]="model"
        ></app-results-page-contents>

      </ng-container>
    </div>
  </div>
</ng-container>

<ng-template #votingNotEnded>
  Voting has not yet ended
</ng-template>

<ng-template #notFound>Not found</ng-template>

