<p-confirmPopup></p-confirmPopup>
<ng-container *ngIf="year">
  <ng-container *ngIf="drivers$ | async as drivers">
    <p-table [value]="drivers" [loading]="loading">
      <ng-template pTemplate="header">
          <tr>
              <th>Full Name</th>
              <th>Year of racing</th>
              <th>Freetext Notes</th>
              <th></th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-driver>
          <tr>
              <td>{{ driver.full_name }}</td>
              <td>{{ driver.year_of_racing }}</td>
              <td>{{ driver.freetext_notes }}</td>
              <td style="text-align: right;">
                <p-button label="Edit" severity="primary"></p-button>&nbsp;
                <p-button (click)="confirm2($event)" label="Delete" severity="danger"></p-button>
              </td>
          </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="4">No drivers found.</td>
        </tr>
      </ng-template>
    </p-table>

    <div class="grid">
      <div class="col-offset-4 col-4">
        <p-button label="Add new Driver" severity="primary" class="add-new-button"></p-button>
      </div>
    </div>


  </ng-container>
</ng-container>
